以前在学习J2EE开发的时候，经常会碰到乱码的问题，那个时候理解的原因是因为服务端编码和浏览器显示编码不一致导致的。那个具体是怎么个不一致呢？一个字符是怎么从磁盘或者网络上加载并显示在屏幕上的呢？

#### 字符怎么被显示的

我们倒着来理解，在屏幕上看到一个字符【马】，字符马其实是屏幕上一连串像素点组成的图像，为了方便，我们用数字来标识这个图像，就像用文件名来标识文件一样。想象一下每一个汉字都是一个图像，都有一个标识这个图像的数字，图像和标识图像的数字的集合被称之为编码字符集。
我们常见的字符集有：ASCII, Unicode 等等。平时开发中，我们基本都是是用Unicode，它采用2个字节来表示一个字符，比如以下字符对应的编码:
> 马      \u9a6c  
马ABC   \u9a6c\u0041\u0042\u0043

在网络传输或者写入本地磁盘的时候，每一个字符都用2个字节来表示是否太浪费了呢，比如A完全没有必要使用2个字节（高位是00）。由此诞生了对编码字符集编码进行转换的字符编码，它对字符集编码进行再编码很重要的一点就是节约空间，这在网络传输或者存储的时候是非常必要的。
常见的字符编码有：utf-8, utf-16，gbk。平时开发我们基本上都是和utf-8打交道。
utf-8是一种变长的编码方式, 它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度，当字符在ASCII
码的范围时，就用一个字节表示。需要注意的是，从unicode到uft-8并不是直接的对应，而是通过算法来转换。

总结一下就是：一串字符，比如【马ABC】，在磁盘上用utf-8字符编码集存储为【9A6C;ABC】，被虚拟机读取加载进来，用utf-8转换成Unicode, 即String为：\u9a6c\u0041\u0042\u0043，这4组数字分别对应字符图像：马ABC，再交由显示引擎显示出来。

#### unicode, utf-8, GBK

